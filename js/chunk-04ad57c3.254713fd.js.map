{"version":3,"sources":["webpack:///./src/views/Topic.vue?ad34","webpack:///./src/views/Topic.vue?6428","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/Utils.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/ScriptLoader.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/components/EditorPropTypes.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/components/Editor.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/index.js","webpack:///src/views/Topic.vue","webpack:///./src/views/Topic.vue?92e9","webpack:///./src/views/Topic.vue","webpack:///./src/views/Topic.vue?6293","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/@tinymce/tinymce-vue/lib/es2015/main/ts/TinyMCE.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","articleDetails","_v","_e","_s","title","_f","create_at","author","loginname","visit_count","attrs","on","$event","changecollect","id","domProps","content","scopedSlots","_u","key","fn","staticStyle","proxy","_l","message","ind","name","params","avatar_url","class","likeActive","is_uped","like","changeUped","ups","length","showText","showReplyId","ref","refInFor","elementpath","branding","height","menubar","language","plugins","toolbar","model","value","callback","$$v","replayText","expression","reply","reply_id","commentText","comment","staticRenderFns","validEvents","isValidKey","map","event","toLowerCase","indexOf","bindHandlers","initEvent","listeners","editor","Object","keys","filter","forEach","handler","substring","e","bindModelHandlers","ctx","modelEvents","$props","normalizedEvents","Array","isArray","join","$emit","getContent","format","outputFormat","initEditor","initialValue","setContent","initialized","cache","$watch","val","prevVal","$listeners","input","unique","uuid","prefix","time","Date","now","random","Math","floor","String","isTextarea","element","tagName","normalizePluginArray","split","mergePlugins","initPlugins","inputPlugins","concat","isNullOrUndefined","undefined","createState","scriptId","scriptLoaded","CreateScriptLoader","state","injectScriptTag","doc","url","scriptTag","createElement","referrerPolicy","type","src","removeEventListener","addEventListener","head","appendChild","load","push","getElementById","reinitialize","ScriptLoader","editorProps","apiKey","cloudChannel","init","inline","Boolean","disabled","tinymceScriptSrc","validator","prop","__assign","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","renderInline","h","renderIframe","style","visibility","initialise","finalInit","readonly","selector","elementId","inlineEditor","setup","display","Editor","props","created","watch","setMode","mounted","$el","ownerDocument","channel","scriptSrc","beforeDestroy","remove","deactivated","_a","activated","components","data","methods","$nextTick","$refs","replyText","focus","JSON","parse","sessionStorage","getItem","$axios","post","accesstoken","replies","newComment","console","log","newReply","component","toPrimitive","definePropertyModule","createPropertyDescriptor","module","exports","object","propertyKey","f","$","fails","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","k","len","E","A","TypeError","getGlobal","window","global","getTinymce","tinymce"],"mappings":"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","file":"js/chunk-04ad57c3.254713fd.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.articleDetails)?_c('div',{staticClass:\"topic\"},[_c('div',{staticClass:\"article\"},[_c('div',{staticClass:\"title\"},[(_vm.articleDetails.good)?_c('span',{staticClass:\"good\"},[_vm._v(\"精华\")]):_vm._e(),(_vm.articleDetails.top)?_c('span',{staticClass:\"top\"},[_vm._v(\"置顶\")]):_vm._e(),_c('h2',[_vm._v(_vm._s(_vm.articleDetails.title))])]),_c('div',{staticClass:\"details\"},[_c('ul',[_c('li',[_vm._v(\"发布于\"+_vm._s(_vm._f(\"fromatDataFromNow\")(_vm.articleDetails.create_at)))]),_c('li',[_vm._v(\"作者\"+_vm._s(_vm.author.loginname))]),_c('li',[_vm._v(\"浏览量\"+_vm._s(_vm.articleDetails.visit_count))])]),(_vm.articleDetails.is_collect)?_c('el-button',{staticClass:\"collect\",attrs:{\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.changecollect(_vm.articleDetails.id)}}},[_vm._v(\"取消收藏\")]):_c('el-button',{staticClass:\"collect\",attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.changecollect(_vm.articleDetails.id)}}},[_vm._v(\"收藏\")])],1),_c('hr'),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.articleDetails.content)}}),_c('div',{staticClass:\"reply\"},[_c('panel',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h2',{staticStyle:{\"padding-left\":\"20px\"}},[_vm._v(\"评论\")])]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.articleDetails.replies),function(message,ind){return _c('div',{key:message.id,staticClass:\"replies\"},[_c('div',{staticClass:\"author\"},[_c('div',{staticClass:\"show\"},[_c('router-link',{attrs:{\"to\":{\n                    name: 'UserDetails',\n                    params: { loginname: message.author.loginname },\n                  }}},[_c('el-avatar',{attrs:{\"shape\":\"square\",\"src\":message.author.avatar_url}})],1),_c('div',{staticClass:\"authorName\"},[_vm._v(_vm._s(message.author.loginname))]),_c('span',[_vm._v(_vm._s(ind + 1)+\"楼·\"+_vm._s(_vm._f(\"fromatDataFromNow\")(message.create_at)))])],1),_c('div',{staticClass:\"operation\"},[_c('span',{class:{ likeActive: message.is_uped, like: true },on:{\"click\":function($event){return _vm.changeUped(ind, message.id)}}},[_vm._v(_vm._s(message.ups.length ? message.ups.length : \"\"))]),_c('span',{staticClass:\"comment\",on:{\"click\":function($event){return _vm.showText(message.id, message.author.loginname)}}})])]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(message.content)}}),_c('div',{staticClass:\"reply\"},[(_vm.showReplyId === message.id)?_c('div',{ref:\"replyText\",refInFor:true,staticClass:\"text\"},[_c('Editor',{attrs:{\"output-format\":\"text\",\"api-key\":\"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754\",\"init\":{\n                    elementpath: false,\n                    branding: false,\n                    height: 250,\n                    menubar: true,\n                    language: 'zh_CN',\n                    plugins: [\n                      'advlist autolink lists link image charmap print preview anchor',\n                      'searchreplace visualblocks code fullscreen',\n                      'insertdatetime media table paste code help wordcount' ],\n                    toolbar:\n                      'code undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | \\\n  styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | \\\n  table image media charmap emoticons hr pagebreak insertdatetime print preview | fullscreen | bdmap indent2em lineheight formatpainter axupimgs',\n                  }},model:{value:(_vm.replayText),callback:function ($$v) {_vm.replayText=$$v},expression:\"replayText\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.reply(message.reply_id)}}},[_vm._v(\"回复\")])],1):_vm._e()]),_c('hr')])})},proxy:true}],null,false,65700251)}),_c('div',{staticClass:\"text\"},[_c('Editor',{attrs:{\"output-format\":\"text\",\"api-key\":\"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754\",\"init\":{\n            elementpath: false,\n            branding: false,\n            height: 250,\n            menubar: true,\n            language: 'zh_CN',\n            plugins: [\n              'advlist autolink lists link image charmap print preview anchor',\n              'searchreplace visualblocks code fullscreen',\n              'insertdatetime media table paste code help wordcount' ],\n            toolbar:\n              'code undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | \\\n  styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | \\\n  table image media charmap emoticons hr pagebreak insertdatetime print preview | fullscreen | bdmap indent2em lineheight formatpainter axupimgs',\n          }},model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.comment}},[_vm._v(\"回复\")])],1)],1)]),_c('div',{staticClass:\"author\"},[_c('panel',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(\"作者\")])])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"authorData\"},[_c('div',{staticClass:\"box\"},[_c('router-link',{attrs:{\"to\":{\n                name: 'UserDetails',\n                params: { loginname: _vm.articleDetails.author.loginname },\n              }}},[_c('el-avatar',{attrs:{\"shape\":\"square\",\"src\":_vm.author.avatar_url}})],1),_c('span',{staticClass:\"authorName\"},[_vm._v(_vm._s(_vm.author.loginname))])],1)])]},proxy:true}],null,false,886733965)})],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar validEvents = [\n    'onActivate',\n    'onAddUndo',\n    'onBeforeAddUndo',\n    'onBeforeExecCommand',\n    'onBeforeGetContent',\n    'onBeforeRenderUI',\n    'onBeforeSetContent',\n    'onBeforePaste',\n    'onBlur',\n    'onChange',\n    'onClearUndos',\n    'onClick',\n    'onContextMenu',\n    'onCopy',\n    'onCut',\n    'onDblclick',\n    'onDeactivate',\n    'onDirty',\n    'onDrag',\n    'onDragDrop',\n    'onDragEnd',\n    'onDragGesture',\n    'onDragOver',\n    'onDrop',\n    'onExecCommand',\n    'onFocus',\n    'onFocusIn',\n    'onFocusOut',\n    'onGetContent',\n    'onHide',\n    'onInit',\n    'onKeyDown',\n    'onKeyPress',\n    'onKeyUp',\n    'onLoadContent',\n    'onMouseDown',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onMouseOut',\n    'onMouseOver',\n    'onMouseUp',\n    'onNodeChange',\n    'onObjectResizeStart',\n    'onObjectResized',\n    'onObjectSelected',\n    'onPaste',\n    'onPostProcess',\n    'onPostRender',\n    'onPreProcess',\n    'onProgressState',\n    'onRedo',\n    'onRemove',\n    'onReset',\n    'onSaveContent',\n    'onSelectionChange',\n    'onSetAttrib',\n    'onSetContent',\n    'onShow',\n    'onSubmit',\n    'onUndo',\n    'onVisualAid'\n];\nvar isValidKey = function (key) { return validEvents.map(function (event) { return event.toLowerCase(); }).indexOf(key.toLowerCase()) !== -1; };\nvar bindHandlers = function (initEvent, listeners, editor) {\n    Object.keys(listeners)\n        .filter(isValidKey)\n        .forEach(function (key) {\n        var handler = listeners[key];\n        if (typeof handler === 'function') {\n            if (key === 'onInit') {\n                handler(initEvent, editor);\n            }\n            else {\n                editor.on(key.substring(2), function (e) { return handler(e, editor); });\n            }\n        }\n    });\n};\nvar bindModelHandlers = function (ctx, editor) {\n    var modelEvents = ctx.$props.modelEvents ? ctx.$props.modelEvents : null;\n    var normalizedEvents = Array.isArray(modelEvents) ? modelEvents.join(' ') : modelEvents;\n    editor.on(normalizedEvents ? normalizedEvents : 'change input undo redo', function () {\n        ctx.$emit('input', editor.getContent({ format: ctx.$props.outputFormat }));\n    });\n};\nvar initEditor = function (initEvent, ctx, editor) {\n    var value = ctx.$props.value ? ctx.$props.value : '';\n    var initialValue = ctx.$props.initialValue ? ctx.$props.initialValue : '';\n    editor.setContent(value || (ctx.initialized ? ctx.cache : initialValue));\n    // Always bind the value listener in case users use :value instead of v-model\n    ctx.$watch('value', function (val, prevVal) {\n        if (editor && typeof val === 'string' && val !== prevVal && val !== editor.getContent({ format: ctx.$props.outputFormat })) {\n            editor.setContent(val);\n        }\n    });\n    // checks if the v-model shorthand is used (which sets an v-on:input listener) and then binds either\n    // specified the events or defaults to \"change keyup\" event and emits the editor content on that event\n    if (ctx.$listeners.input) {\n        bindModelHandlers(ctx, editor);\n    }\n    bindHandlers(initEvent, ctx.$listeners, editor);\n    ctx.initialized = true;\n};\nvar unique = 0;\nvar uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nvar isTextarea = function (element) {\n    return element !== null && element.tagName.toLowerCase() === 'textarea';\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\nvar mergePlugins = function (initPlugins, inputPlugins) {\n    return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\n};\nvar isNullOrUndefined = function (value) { return value === null || value === undefined; };\nexport { bindHandlers, bindModelHandlers, initEditor, isValidKey, uuid, isTextarea, mergePlugins, isNullOrUndefined };\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\nvar createState = function () {\n    return {\n        listeners: [],\n        scriptId: uuid('tiny-script'),\n        scriptLoaded: false\n    };\n};\nvar CreateScriptLoader = function () {\n    var state = createState();\n    var injectScriptTag = function (scriptId, doc, url, callback) {\n        var scriptTag = doc.createElement('script');\n        scriptTag.referrerPolicy = 'origin';\n        scriptTag.type = 'application/javascript';\n        scriptTag.id = scriptId;\n        scriptTag.src = url;\n        var handler = function () {\n            scriptTag.removeEventListener('load', handler);\n            callback();\n        };\n        scriptTag.addEventListener('load', handler);\n        if (doc.head) {\n            doc.head.appendChild(scriptTag);\n        }\n    };\n    var load = function (doc, url, callback) {\n        if (state.scriptLoaded) {\n            callback();\n        }\n        else {\n            state.listeners.push(callback);\n            if (!doc.getElementById(state.scriptId)) {\n                injectScriptTag(state.scriptId, doc, url, function () {\n                    state.listeners.forEach(function (fn) { return fn(); });\n                    state.scriptLoaded = true;\n                });\n            }\n        }\n    };\n    // Only to be used by tests.\n    var reinitialize = function () {\n        state = createState();\n    };\n    return {\n        load: load,\n        reinitialize: reinitialize\n    };\n};\nvar ScriptLoader = CreateScriptLoader();\nexport { ScriptLoader };\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nexport var editorProps = {\n    apiKey: String,\n    cloudChannel: String,\n    id: String,\n    init: Object,\n    initialValue: String,\n    inline: Boolean,\n    modelEvents: [String, Array],\n    plugins: [String, Array],\n    tagName: String,\n    toolbar: [String, Array],\n    value: String,\n    disabled: Boolean,\n    tinymceScriptSrc: String,\n    outputFormat: {\n        type: String,\n        validator: function (prop) { return prop === 'html' || prop === 'text'; }\n    },\n};\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ScriptLoader } from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { initEditor, isTextarea, mergePlugins, uuid, isNullOrUndefined } from '../Utils';\nimport { editorProps } from './EditorPropTypes';\nvar renderInline = function (h, id, tagName) {\n    return h(tagName ? tagName : 'div', {\n        attrs: { id: id }\n    });\n};\nvar renderIframe = function (h, id) {\n    return h('textarea', {\n        attrs: { id: id },\n        style: { visibility: 'hidden' }\n    });\n};\nvar initialise = function (ctx) { return function () {\n    var finalInit = __assign(__assign({}, ctx.$props.init), { readonly: ctx.$props.disabled, selector: \"#\" + ctx.elementId, plugins: mergePlugins(ctx.$props.init && ctx.$props.init.plugins, ctx.$props.plugins), toolbar: ctx.$props.toolbar || (ctx.$props.init && ctx.$props.init.toolbar), inline: ctx.inlineEditor, setup: function (editor) {\n            ctx.editor = editor;\n            editor.on('init', function (e) { return initEditor(e, ctx, editor); });\n            if (ctx.$props.init && typeof ctx.$props.init.setup === 'function') {\n                ctx.$props.init.setup(editor);\n            }\n        } });\n    if (isTextarea(ctx.element)) {\n        ctx.element.style.visibility = '';\n        ctx.element.style.display = '';\n    }\n    getTinymce().init(finalInit);\n}; };\nexport var Editor = {\n    props: editorProps,\n    created: function () {\n        this.elementId = this.$props.id || uuid('tiny-vue');\n        this.inlineEditor = (this.$props.init && this.$props.init.inline) || this.$props.inline;\n        this.initialized = false;\n    },\n    watch: {\n        disabled: function () {\n            this.editor.setMode(this.disabled ? 'readonly' : 'design');\n        }\n    },\n    mounted: function () {\n        this.element = this.$el;\n        if (getTinymce() !== null) {\n            initialise(this)();\n        }\n        else if (this.element && this.element.ownerDocument) {\n            var channel = this.$props.cloudChannel ? this.$props.cloudChannel : '5';\n            var apiKey = this.$props.apiKey ? this.$props.apiKey : 'no-api-key';\n            var scriptSrc = isNullOrUndefined(this.$props.tinymceScriptSrc) ?\n                \"https://cdn.tiny.cloud/1/\" + apiKey + \"/tinymce/\" + channel + \"/tinymce.min.js\" :\n                this.$props.tinymceScriptSrc;\n            ScriptLoader.load(this.element.ownerDocument, scriptSrc, initialise(this));\n        }\n    },\n    beforeDestroy: function () {\n        if (getTinymce() !== null) {\n            getTinymce().remove(this.editor);\n        }\n    },\n    deactivated: function () {\n        var _a;\n        if (!this.inlineEditor) {\n            this.cache = this.editor.getContent();\n            (_a = getTinymce()) === null || _a === void 0 ? void 0 : _a.remove(this.editor);\n        }\n    },\n    activated: function () {\n        if (!this.inlineEditor && this.initialized) {\n            initialise(this)();\n        }\n    },\n    render: function (h) {\n        return this.inlineEditor ? renderInline(h, this.elementId, this.$props.tagName) : renderIframe(h, this.elementId);\n    }\n};\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport default Editor;\n","<template>\r\n  <div class=\"topic\" v-if=\"articleDetails\">\r\n    <div class=\"article\">\r\n      <div class=\"title\">\r\n        <span class=\"good\" v-if=\"articleDetails.good\">精华</span>\r\n        <span class=\"top\" v-if=\"articleDetails.top\">置顶</span>\r\n        <h2>{{ articleDetails.title }}</h2>\r\n      </div>\r\n      <div class=\"details\">\r\n        <ul>\r\n          <li>发布于{{ articleDetails.create_at | fromatDataFromNow }}</li>\r\n          <li>作者{{ author.loginname }}</li>\r\n          <li>浏览量{{ articleDetails.visit_count }}</li>\r\n        </ul>\r\n        <el-button\r\n          @click=\"changecollect(articleDetails.id)\"\r\n          v-if=\"articleDetails.is_collect\"\r\n          class=\"collect\"\r\n          size=\"mini\"\r\n          type=\"info\"\r\n          >取消收藏</el-button\r\n        >\r\n        <el-button\r\n          @click=\"changecollect(articleDetails.id)\"\r\n          v-else\r\n          class=\"collect\"\r\n          size=\"mini\"\r\n          type=\"success\"\r\n          >收藏</el-button\r\n        >\r\n      </div>\r\n      <hr />\r\n      <div class=\"content\" v-html=\"articleDetails.content\"></div>\r\n      <div class=\"reply\">\r\n        <panel>\r\n          <template #header>\r\n            <h2 style=\"padding-left: 20px\">评论</h2>\r\n          </template>\r\n          <template #content>\r\n            <div\r\n              class=\"replies\"\r\n              v-for=\"(message, ind) in articleDetails.replies\"\r\n              :key=\"message.id\"\r\n            >\r\n              <div class=\"author\">\r\n                <div class=\"show\">\r\n                  <router-link\r\n                    :to=\"{\r\n                      name: 'UserDetails',\r\n                      params: { loginname: message.author.loginname },\r\n                    }\"\r\n                    ><el-avatar\r\n                      shape=\"square\"\r\n                      :src=\"message.author.avatar_url\"\r\n                    ></el-avatar\r\n                  ></router-link>\r\n                  <div class=\"authorName\">{{ message.author.loginname }}</div>\r\n                  <span\r\n                    >{{ ind + 1 }}楼·{{\r\n                      message.create_at | fromatDataFromNow\r\n                    }}</span\r\n                  >\r\n                </div>\r\n                <div class=\"operation\">\r\n                  <span\r\n                    @click=\"changeUped(ind, message.id)\"\r\n                    :class=\"{ likeActive: message.is_uped, like: true }\"\r\n                    >{{ message.ups.length ? message.ups.length : \"\" }}</span\r\n                  >\r\n                  <span\r\n                    class=\"comment\"\r\n                    @click=\"showText(message.id, message.author.loginname)\"\r\n                  >\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div class=\"content\" v-html=\"message.content\"></div>\r\n              <div class=\"reply\">\r\n                <div\r\n                  class=\"text\"\r\n                  ref=\"replyText\"\r\n                  v-if=\"showReplyId === message.id\"\r\n                >\r\n                  <Editor\r\n                    output-format=\"text\"\r\n                    api-key=\"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754\"\r\n                    v-model=\"replayText\"\r\n                    :init=\"{\r\n                      elementpath: false,\r\n                      branding: false,\r\n                      height: 250,\r\n                      menubar: true,\r\n                      language: 'zh_CN',\r\n                      plugins: [\r\n                        'advlist autolink lists link image charmap print preview anchor',\r\n                        'searchreplace visualblocks code fullscreen',\r\n                        'insertdatetime media table paste code help wordcount',\r\n                      ],\r\n                      toolbar:\r\n                        'code undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | \\\r\n    styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | \\\r\n    table image media charmap emoticons hr pagebreak insertdatetime print preview | fullscreen | bdmap indent2em lineheight formatpainter axupimgs',\r\n                    }\"\r\n                  />\r\n                  <el-button type=\"primary\" @click=\"reply(message.reply_id)\"\r\n                    >回复</el-button\r\n                  >\r\n                </div>\r\n              </div>\r\n              <hr />\r\n            </div>\r\n          </template>\r\n        </panel>\r\n        <div class=\"text\">\r\n          <Editor\r\n            output-format=\"text\"\r\n            api-key=\"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754\"\r\n            v-model=\"commentText\"\r\n            :init=\"{\r\n              elementpath: false,\r\n              branding: false,\r\n              height: 250,\r\n              menubar: true,\r\n              language: 'zh_CN',\r\n              plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media table paste code help wordcount',\r\n              ],\r\n              toolbar:\r\n                'code undo redo restoredraft | cut copy paste pastetext | forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent | \\\r\n    styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | \\\r\n    table image media charmap emoticons hr pagebreak insertdatetime print preview | fullscreen | bdmap indent2em lineheight formatpainter axupimgs',\r\n            }\"\r\n          />\r\n          <el-button type=\"primary\" @click=\"comment\">回复</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"author\">\r\n      <panel>\r\n        <template #header>\r\n          <div class=\"title\">\r\n            <h2>作者</h2>\r\n          </div>\r\n        </template>\r\n        <template #content>\r\n          <div class=\"authorData\">\r\n            <div class=\"box\">\r\n              <router-link\r\n                :to=\"{\r\n                  name: 'UserDetails',\r\n                  params: { loginname: articleDetails.author.loginname },\r\n                }\"\r\n                ><el-avatar shape=\"square\" :src=\"author.avatar_url\"></el-avatar\r\n              ></router-link>\r\n\r\n              <span class=\"authorName\">{{ author.loginname }}</span>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </panel>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport panel from \"../layout/panel.vue\";\r\nimport Editor from \"@tinymce/tinymce-vue\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  components: { panel, Editor },\r\n  data() {\r\n    return {\r\n      // 文章详情\r\n      articleDetails: null,\r\n      author: null,\r\n      // 评论的数据\r\n      commentText: \"\",\r\n      // 回复的Id\r\n      showReplyId: 0,\r\n      // 回复的数据\r\n      replayText: \"\",\r\n    };\r\n  },\r\n  async created() {\r\n    await this.$axios\r\n      .get(\r\n        `/topic/${\r\n          this.$route.params.topicId\r\n        }?accesstoken=${sessionStorage.getItem(\"token\")}`\r\n      )\r\n      .then((res) => {\r\n        this.articleDetails = res.data;\r\n        this.author = res.data.author;\r\n      });\r\n  },\r\n  methods: {\r\n    // 展示回复的富文本展示器\r\n    showText(id, text) {\r\n      this.showReplyId = id;\r\n      this.replayText = `@${text}`;\r\n      this.$nextTick(function () {\r\n        this.$refs.replyText[0].focus();\r\n      });\r\n    },\r\n      // 改变收藏状态\r\n    async changecollect(id) {\r\n      this.articleDetails.is_collect = !this.articleDetails.is_collect;\r\n      if (this.articleDetails.is_collect) {\r\n        await this.$axios.post(`/topic_collect/collect`, {\r\n          accesstoken: sessionStorage.getItem(\"token\"),\r\n          topic_id: id,\r\n        });\r\n      } else {\r\n        await this.$axios.post(`/topic_collect/de_collect`, {\r\n          accesstoken: sessionStorage.getItem(\"token\"),\r\n          topic_id: id,\r\n        });\r\n      }\r\n    },\r\n    // 改变点赞状态\r\n    async changeUped(ind, id) {\r\n      this.articleDetails.replies[ind].is_uped = !this.articleDetails.replies[\r\n        ind\r\n      ].is_uped;\r\n      if (this.articleDetails.replies[ind].is_uped) {\r\n        this.articleDetails.replies[ind].ups.push(\r\n          sessionStorage.getItem(\"token\")\r\n        );\r\n      } else {\r\n        this.articleDetails.replies[ind].ups = this.articleDetails.replies[\r\n          ind\r\n        ].ups.filter((item) => item !== sessionStorage.getItem(\"token\"));\r\n      }\r\n      await this.$axios.post(`/reply/${id}/ups`, {\r\n        accesstoken: sessionStorage.getItem(\"token\"),\r\n      });\r\n    },\r\n    // 评论\r\n    comment() {\r\n      const newComment = {\r\n        author: {\r\n          avatar_url: JSON.parse(sessionStorage.getItem(\"userData\")).avatar_url,\r\n          loginname: JSON.parse(sessionStorage.getItem(\"userData\")).loginname,\r\n        },\r\n        content: this.commentText,\r\n        create_at: moment().format(),\r\n        id: JSON.parse(sessionStorage.getItem(\"userData\")).id,\r\n        is_uped: false,\r\n        reply_id: null,\r\n        ups: [],\r\n      };\r\n\r\n      this.$axios.post(`/topic/${this.articleDetails.id}/replies`, {\r\n        accesstoken: sessionStorage.getItem(\"token\"),\r\n        content: this.commentText,\r\n      });\r\n      this.articleDetails.replies.push(newComment);\r\n      this.commentText = \"\";\r\n    },\r\n    // 回复\r\n    reply(id) {\r\n      const newReply = {\r\n        author: {\r\n          avatar_url: JSON.parse(sessionStorage.getItem(\"userData\")).avatar_url,\r\n          loginname: JSON.parse(sessionStorage.getItem(\"userData\")).loginname,\r\n        },\r\n        content: this.replayText,\r\n        create_at: moment().format(),\r\n        id: JSON.parse(sessionStorage.getItem(\"userData\")).id,\r\n        is_uped: false,\r\n        reply_id: id,\r\n        ups: [],\r\n      };\r\n      console.log(this.replayText);\r\n      this.$axios.post(`/topic/${this.articleDetails.id}/replies`, {\r\n        accesstoken: sessionStorage.getItem(\"token\"),\r\n        content: this.replayText,\r\n        reply_id: id,\r\n      });\r\n      this.articleDetails.replies.push(newReply);\r\n      (this.showReplyId = 0), (this.replayText = \"\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(\"../assets/global.less\");\r\n.topic {\r\n  display: flex;\r\n  justify-content: center;\r\n  .article {\r\n    width: 60%;\r\n    .title {\r\n      display: flex;\r\n      .top {\r\n        margin-top: 10px;\r\n        background-color: @main-color;\r\n        height: 20px;\r\n      }\r\n      .good {\r\n        margin-top: 10px;\r\n        background-color: @main-color;\r\n        height: 20px;\r\n      }\r\n      h2 {\r\n        margin: 0;\r\n        line-height: 40px;\r\n      }\r\n    }\r\n    .details {\r\n      ul {\r\n        display: flex;\r\n        margin: 0;\r\n        padding-left: 20px;\r\n        li {\r\n          list-style: disc;\r\n          margin-left: 25px;\r\n          text-indent: -5px;\r\n          font-size: 10pt;\r\n        }\r\n      }\r\n      .collect {\r\n        margin-left: 80%;\r\n      }\r\n    }\r\n    .reply {\r\n      .replies {\r\n        .text {\r\n          margin-bottom: 0;\r\n        }\r\n      }\r\n      .author {\r\n        margin-left: 0;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .show {\r\n          display: flex;\r\n          .authorName {\r\n            margin-top: 20px;\r\n          }\r\n          span {\r\n            margin-top: 15px;\r\n            font-size: 10pt;\r\n          }\r\n        }\r\n        .operation {\r\n          margin-top: 20px;\r\n          margin-right: 15px;\r\n          display: flex;\r\n          .like {\r\n            display: block;\r\n            width: 20px;\r\n            height: 20px;\r\n            text-indent: 22px;\r\n            background-image: url(\"../assets/images/like.png\");\r\n            background-size: contain;\r\n          }\r\n          .likeActive {\r\n            background-image: url(\"../assets/images/likeActive.png\");\r\n          }\r\n          .comment {\r\n            display: block;\r\n            width: 20px;\r\n            height: 20px;\r\n            background-image: url(\"../assets/images/comment.png\");\r\n            background-size: contain;\r\n            margin-left: 25px;\r\n          }\r\n        }\r\n      }\r\n      .content {\r\n        margin-left: 50px;\r\n      }\r\n      .text {\r\n        margin-bottom: 200px;\r\n      }\r\n    }\r\n  }\r\n  .author {\r\n    margin-left: 50px;\r\n    .title {\r\n      width: 250px;\r\n      padding-left: 20px;\r\n      h2 {\r\n        line-height: 50px;\r\n      }\r\n    }\r\n    .authorData {\r\n      margin-top: 20px;\r\n      margin-left: 20px;\r\n      .box {\r\n        display: flex;\r\n        .authorName {\r\n          display: block;\r\n          margin-left: 20px;\r\n          margin-top: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style>\r\n.markdown-text p img {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Topic.vue?vue&type=template&id=9ea1642a&scoped=true&\"\nimport script from \"./Topic.vue?vue&type=script&lang=js&\"\nexport * from \"./Topic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Topic.vue?vue&type=style&index=0&id=9ea1642a&lang=less&scoped=true&\"\nimport style1 from \"./Topic.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ea1642a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topic.vue?vue&type=style&index=0&id=9ea1642a&lang=less&scoped=true&\"","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","/**\n * Copyright (c) 2018-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function () { return (typeof window !== 'undefined' ? window : global); };\nvar getTinymce = function () {\n    var global = getGlobal();\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n"],"sourceRoot":""}